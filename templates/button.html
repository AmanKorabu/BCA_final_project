from django.http import HttpResponse
from django.template.loader import render_to_string
from weasyprint import HTML

def generate_pdf(request):
    # Render HTML content from a template or generate it programmatically
    html_content = render_to_string("your_template.html", {"context": "data"})

    # Create PDF
    pdf_file = HTML(string=html_content).write_pdf()

    # Prepare HTTP response
    response = HttpResponse(pdf_file, content_type="application/pdf")
    response["Content-Disposition"] = 'filename="output.pdf"'
    return response
